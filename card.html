<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Informations</title>
    <link rel="stylesheet" href="./styles/base.css" />
    <link rel="stylesheet" href="./styles/card.css" />
    <link rel="icon" href="./assets/images/logo-ydf/logo_orange_blanc.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <header>
      <a class="navbar-brand" href="./index.html">
        <p1>Y D</p1>etailed <p1>F</p1>igures
      </a>
      <div class="nav-bar">
        <ul class="nav justify-content-end">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="./index.html"
              >Accueil</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="./projets.html">Projets</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./aPropos.html">A propos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="/modele3D.html">modèles 3D</a>
          </li>
        </ul>
      </div>
    </header>
    <div class="global-container">
      <div class="main-container">
        <div class="container">
          <div class="principal">
            <div class="description">
              <h2 id="card-title"></h2>
              <p id="card-brief"></p>
              <h5 id="card-description"></h5>
              <div class="artiste">
                <h3>Artiste</h3>
                <p id="card-artiste"></p>
                <p id="card-date"></p>
              </div>
            </div>
            <div id="card-image"></div>
          </div>
          <h2>CharaDesign</h2>
          <div id="CharaDesign"></div>
          <h2>Inspiration</h2>
          <div id="Inspiration"></div>
          <h2>Visualisation</h2>
          <div id="Visualisation"></div>
        </div>
      </div>
    </div>

    <script src="./assets/consts/constsFigurines.js"></script>
    <script>
      const params = new URLSearchParams(window.location.search);
      const cardName = decodeURIComponent(params.get("name"));

      // Trouver la carte correspondante dans la liste des données de projet
      const cardData = Projet.find((item) => item.nom === cardName);

      // Mettre à jour les éléments HTML avec les informations de la carte sélectionnée
      const titleElement = document.getElementById("card-title");
      const briefElement = document.getElementById("card-brief");
      const descriptionElement = document.getElementById("card-description");
      const artisteElement = document.getElementById("card-artiste");
      const dateElement = document.getElementById("card-date");
      titleElement.textContent = cardData.nom;
      briefElement.textContent = cardData.brief;
      descriptionElement.textContent = cardData.description;
      artisteElement.textContent = cardData.artiste;
      dateElement.textContent = cardData.année;

      const imageElement = document.getElementById("card-image");
      imageElement.innerHTML = `<img class="imgcard" src="${cardData.imageCardUrl}" width="70%">`;

      const charaElement = document.getElementById("CharaDesign");
      let imagesHtmlc = "";
      if (cardData.charaUrl.length >= 1) {
        for (let i = 0; i < cardData.charaUrl.length; i++) {
          const img = new Image();
          img.onload = () => {
            imagesHtmlc += `<img src="${cardData.charaUrl[i]}" width="50%">`;
            charaElement.innerHTML = imagesHtmlc;
          };
          img.src = cardData.charaUrl[i];
        }
      } else {
        charaElement.innerHTML = "";
      }

      const inspirationElement = document.getElementById("Inspiration");
      let imagesHtmla = "";
      if (cardData.inspiUrl.length >= 1) {
        for (let i = 0; i < cardData.inspiUrl.length; i++) {
          const img = new Image();
          img.onload = () => {
            imagesHtmla += `<img src="${cardData.inspiUrl[i]}" width="50%">`;
            inspirationElement.innerHTML = imagesHtmla;
          };
          img.src = cardData.inspiUrl[i];
        }
      } else {
        inspirationElement.innerHTML = "";
      }

      const visualisationElement = document.getElementById("Visualisation");
      let imagesHtmlb = "";
      if (cardData.visualisationUrl.length >= 1) {
        for (let i = 0; i < cardData.visualisationUrl.length; i++) {
          const img = new Image();
          img.onload = () => {
            imagesHtmlb += `<img src="${cardData.visualisationUrl[i]}" width="50%">`;
            visualisationElement.innerHTML = imagesHtmlb;
          };
          img.src = cardData.visualisationUrl[i];
        }
      } else {
        visualisationElement.innerHTML = "";
      }

      // On ajoute la carte à la liste des cartes
    </script>
  </body>
</html>
